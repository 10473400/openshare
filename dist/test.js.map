{"version":3,"sources":["test.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","e","t","n","r","s","o","u","a","require","f","Error","code","l","exports","call","1","module","DataAttr","API","Events","OpenShare","Count","ShareTransforms","./modules/api","./modules/count","./modules/data-attr","./modules/events","./modules/open-share","./modules/share-transforms","2","OS","element","data","_this","this","os","type","setData","bindClick","addEventListener","share","dynamic","trigger","3","facebook","url","transform","xhr","count","JSON","parse","responseText","shares","storeSet","pinterest","linkedin","reddit","posts","children","ups","forEach","post","Number","google","method","id","params","nolog","source","userId","groupId","jsonrpc","apiVersion","result","metadata","globalCounts","4","CountTransforms","_this2","indexOf","typeArr","split","countData","push","value","Array","isArray","getCounts","getCount","storeGet","innerHTML","_this3","total","num","tot","cb","_this4","callback","Math","random","toString","substr","window","apply","script","document","createElement","src","replace","getElementsByTagName","appendChild","_this5","XMLHttpRequest","onreadystatechange","readyState","DONE","status","open","send","_this6","setRequestHeader","stringify","arguments","undefined","localStorage","setItem","getItem","./count-transforms","5","init","initializeNodes","MutationObserver","initializeWatcher","querySelectorAll","container","shareNodes","initializeShareNode","countNodes","initializeCountNode","getAttribute","setAttribute","dash","openShare","nextChar","group","toUpperCase","watcher","w","observer","mutations","observe","childList","osInstance","osElement","text","via","hashtags","tweetId","related","screenName","link","picture","caption","description","user","video","username","title","media","to","subject","body","ios","6","event","ev","createEvent","initEvent","dispatchEvent","7","test","navigator","userAgent","MSStream","typeCaps","charAt","slice","_transform","mobileShareUrl","template","shareUrl","_this7","start","Date","valueOf","setTimeout","end","location","encodeURIComponent","8","twitter","message","tags","tag","twitterRetweet","tweet_id","twitterLike","twitterFollow","iosData","screen_name","user_id","facebookSend","youtube","youtubeSubscribe","instagram","instagramFollow","snapchat","buffer","tumblr","flickr","whatsapp","sms","email","9","createOpenShareNode","classList","add","button","addNode","dynamicNodeData","querySelector","console","log","node","./index"],"mappings":"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","file":"test.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = (function() {\n\n\tvar DataAttr = require('./modules/data-attr'),\n\t\tAPI = require('./modules/api'),\n\t\tEvents = require('./modules/events'),\n\t\tOpenShare = require('./modules/open-share'),\n\t\tCount = require('./modules/count'),\n\t\tShareTransforms = require('./modules/share-transforms');\n\n\tDataAttr(OpenShare, Count, ShareTransforms, Events);\n\treturn API(OpenShare, ShareTransforms, Events);\n})();\n\n},{\"./modules/api\":2,\"./modules/count\":4,\"./modules/data-attr\":5,\"./modules/events\":6,\"./modules/open-share\":7,\"./modules/share-transforms\":8}],2:[function(require,module,exports){\n/**\n * Global OpenShare API to generate instances programmatically\n */\nmodule.exports = function(OS, ShareTransforms, Events) {\n\n\t// global OpenShare referencing internal class for instance generation\n\tfunction OpenShare(element, data) {\n\t\tthis.element = element;\n\t\tthis.data = data;\n\n\t\tthis.os = new OS(data.type, ShareTransforms[data.type]);\n\t\tthis.os.setData(data);\n\n\t\t// automatically open share dialog on click\n\t\tif (this.data.bindClick) {\n\t\t\tthis.element.addEventListener('click', (e) => {\n\t\t\t\tthis.share();\n\t\t\t});\n\t\t}\n\t}\n\n\t// public share method to trigger share programmatically\n\tOpenShare.prototype.share = function(e) {\n\t\t// if dynamic instance then fetch attributes again in case of updates\n\t\tif (this.data.dynamic) {\n\t\t\tthis.os.setData(data);\n\t\t}\n\n\t\tthis.os.share(e);\n\n\t\tEvents.trigger(this.element, 'shared');\n\t};\n\n\treturn OpenShare;\n};\n\n},{}],3:[function(require,module,exports){\n/**\n * Object of transform functions for each openshare api\n * Transform functions passed into OpenShare instance when instantiated\n * Return object containing URL and key/value args\n */\nmodule.exports = {\n\n\t// facebook count data\n\tfacebook: function(url) {\n\t\treturn {\n\t\t\ttype: 'get',\n\t\t\turl: `//graph.facebook.com/?id=${url}`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet count = JSON.parse(xhr.responseText).shares;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// pinterest count data\n\tpinterest: function(url) {\n\t\treturn {\n\t\t\ttype: 'jsonp',\n\t\t\turl: `//api.pinterest.com/v1/urls/count.json?callback=?&url=${url}`,\n\t\t\ttransform: function(data) {\n\t\t\t\tlet count = data.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// linkedin count data\n\tlinkedin: function(url) {\n\t\treturn {\n\t\t\ttype: 'jsonp',\n\t\t\turl: `//www.linkedin.com/countserv/count/share?url=${url}&format=jsonp&callback=?`,\n\t\t\ttransform: function(data) {\n\t\t\t\tlet count = data.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// reddit count data\n\treddit: function(url) {\n\t\treturn {\n\t\t\ttype: 'get',\n\t\t\turl: `//www.reddit.com/api/info.json?url=${url}`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet posts = JSON.parse(xhr.responseText).data.children,\n\t\t\t\t\tups = 0;\n\n\t\t\t\tposts.forEach((post) => {\n\t\t\t\t\tups += Number(post.data.ups);\n\t\t\t\t});\n\n\t\t\t\tthis.storeSet(this.type, ups);\n\n\t\t\t\treturn ups;\n\t\t\t}\n\t\t};\n\t},\n\n\t// linkedin count data\n\tgoogle: function(url) {\n\t\treturn {\n\t\t\ttype: 'post',\n\t\t\tdata: {\n\t\t\t\tmethod: 'pos.plusones.get',\n\t\t\t\tid: 'p',\n\t\t\t\tparams: {\n\t\t\t\t\tnolog: true,\n\t\t\t\t\tid: url,\n\t\t\t\t\tsource: 'widget',\n\t\t\t\t\tuserId: '@viewer',\n\t\t\t\t\tgroupId: '@self'\n\t\t\t\t},\n\t\t\t\tjsonrpc: '2.0',\n\t\t\t\tkey: 'p',\n\t\t\t\tapiVersion: 'v1'\n\t\t\t},\n\t\t\turl: `https://clients6.google.com/rpc`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet count = JSON.parse(xhr.responseText).result.metadata.globalCounts.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t}\n\n};\n\n},{}],4:[function(require,module,exports){\n/**\n * Generate share count instance from one to many networks\n */\n\nvar CountTransforms = require('./count-transforms');\n\nmodule.exports = class Count {\n\n\tconstructor(type, url) {\n\n\t\t// throw error if no url provided\n\t\tif (!url) {\n\t\t\tthrow new Error(`Open Share: no url provided for count`);\n\t\t}\n\n\t\t// if type is comma separate list create array\n\t\tif (type.indexOf(',') > -1) {\n\t\t\tthis.type = type;\n\t\t\tthis.typeArr = this.type.split(',');\n\t\t\tthis.countData = [];\n\n\t\t\t// check each type supplied is valid\n\t\t\tthis.typeArr.forEach((t) => {\n\t\t\t\tif (!CountTransforms[t]) {\n\t\t\t\t\tthrow new Error(`Open Share: ${type} is an invalid count type`);\n\t\t\t\t}\n\n\t\t\t\tthis.countData.push(CountTransforms[t](url));\n\t\t\t});\n\n\t\t// throw error if invalid type provided\n\t\t} else if (!CountTransforms[type]) {\n\t\t\tthrow new Error(`Open Share: ${type} is an invalid count type`);\n\n\t\t// single count\n\t\t// store count URL and transform function\n\t\t} else {\n\t\t\tthis.type = type;\n\t\t\tthis.countData = CountTransforms[type](url);\n\t\t}\n\t}\n\n\t// handle calling getCount / getCounts\n\t// depending on number of types\n\tcount(os) {\n\t\tthis.os = os;\n\n\t\tif (!Array.isArray(this.countData)) {\n\t\t\tthis.getCount();\n\t\t} else {\n\t\t\tthis.getCounts();\n\t\t}\n\t}\n\n\t// fetch count either AJAX or JSONP\n\tgetCount() {\n\t\tvar count = this.storeGet(this.type);\n\n\t\tif (count) {\n\t\t\tthis.os.innerHTML = count;\n\t\t}\n\n\t\tthis[this.countData.type](this.countData);\n\t}\n\n\t// fetch multiple counts and aggregate\n\tgetCounts() {\n\t\tthis.total = [];\n\n\t\tvar count = this.storeGet(this.type);\n\n\t\tif (count) {\n\t\t\tthis.os.innerHTML = count;\n\t\t}\n\n\t\tthis.countData.forEach((countData) => {\n\n\t\t\tthis[countData.type](countData, (num) => {\n\t\t\t\tthis.total.push(num);\n\n\t\t\t\t// total counts length now equals type array length\n\t\t\t\t// so aggregate, store and insert into DOM\n\t\t\t\tif (this.total.length === this.typeArr.length) {\n\t\t\t\t\tlet tot = 0;\n\n\t\t\t\t\tthis.total.forEach((t) => {\n\t\t\t\t\t\ttot += t;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.storeSet(this.type, tot);\n\t\t\t\t\tthis.os.innerHTML = tot;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.os.innerHTML = this.total;\n\t}\n\n\t// handle JSONP requests\n\tjsonp(countData, cb) {\n\t\t// define random callback and assign transform function\n\t\tlet callback = `jsonp_${Math.random().toString().substr(-10)}`;\n\t\twindow[callback] = (data) => {\n\t\t\tlet count = countData.transform.apply(this, [data]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\t// append JSONP script tag to page\n\t\tlet script = document.createElement('script');\n\t\tscript.src = countData.url.replace('callback=?', `callback=${callback}`);\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\n\t\treturn;\n\t}\n\n\t// handle AJAX GET request\n\tget(countData, cb) {\n\t\tlet xhr = new XMLHttpRequest();\n\n\t\t// on success pass response to transform function\n\t\txhr.onreadystatechange = () => {\n\t\t\tif (xhr.readyState !== XMLHttpRequest.DONE ||\n\t\t\t\txhr.status !== 200) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet count = countData.transform.apply(this, [xhr]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\txhr.open('GET', countData.url);\n\t\txhr.send();\n\t}\n\n\t// handle AJAX POST request\n\tpost(countData, cb) {\n\t\tlet xhr = new XMLHttpRequest();\n\n\t\t// on success pass response to transform function\n\t\txhr.onreadystatechange = () => {\n\t\t\tif (xhr.readyState !== XMLHttpRequest.DONE ||\n\t\t\t\txhr.status !== 200) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet count = countData.transform.apply(this, [xhr]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\txhr.open('POST', countData.url);\n\t\txhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n\t\txhr.send(JSON.stringify(countData.data));\n\t}\n\n\tstoreSet(type, count = 0) {\n\t\tif (!window.localStorage || !type) {\n\t\t\treturn;\n\t\t}\n\n\t\tlocalStorage.setItem(`OpenShare-${type}`, count);\n\t}\n\n\tstoreGet(type) {\n\t\tif (!window.localStorage || !type) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn localStorage.getItem(`OpenShare-${type}`);\n\t}\n\n};\n\n},{\"./count-transforms\":3}],5:[function(require,module,exports){\n/**\n * Configure data attribute API\n */\nmodule.exports = function(OpenShare, Count, ShareTransforms, Events) {\n\n\tdocument.addEventListener('OpenShare.load', init);\n\tdocument.addEventListener('DOMContentLoaded', init);\n\n\tfunction init() {\n\t\tinitializeNodes();\n\n\t\t// check for mutation observers before using, IE11 only\n\t\tif (window.MutationObserver !== undefined) {\n\t\t\tinitializeWatcher(document.querySelectorAll('[data-open-share-watch]'));\n\t\t}\n\t}\n\n\tfunction initializeNodes(container = document) {\n\t\t// loop through open share node collection\n\t\tlet shareNodes = container.querySelectorAll('[data-open-share]:not([data-open-share-node])');\n\t\t[].forEach.call(shareNodes, initializeShareNode);\n\n\t\t// loop through count node collection\n\t\tlet countNodes = container.querySelectorAll('[data-open-share-count]:not([data-open-share-node])');\n\t\t[].forEach.call(countNodes, initializeCountNode);\n\n\t\t// trigger completed event\n\t\tEvents.trigger(document, 'loaded');\n\t}\n\n\tfunction initializeCountNode(os) {\n\t\t// initialize open share object with type attribute\n\t\tlet type = os.getAttribute('data-open-share-count'),\n\t\t\tcount = new Count(type, os.getAttribute('data-open-share-count-url'));\n\n\t\tcount.count(os);\n\t\tos.setAttribute('data-open-share-node', type);\n\t}\n\n\tfunction initializeShareNode(os) {\n\t\t// initialize open share object with type attribute\n\t\tlet type = os.getAttribute('data-open-share'),\n\t\t\tdash = type.indexOf('-'),\n\t\t\topenShare;\n\n\t\t// type contains a dash\n\t\t// transform to camelcase for function reference\n\t\t// TODO: only supports single dash, should should support multiple\n\t\tif (dash > -1) {\n\t\t\tlet nextChar = type.substr(dash + 1, 1),\n\t\t\t\tgroup = type.substr(dash, 2);\n\n\t\t\ttype = type.replace(group, nextChar.toUpperCase());\n\t\t}\n\n\t\tlet transform = ShareTransforms[type];\n\n\t\tif (!transform) {\n\t\t\tthrow new Error(`Open Share: ${type} is an invalid type`);\n\t\t}\n\n\t\topenShare = new OpenShare(type, transform);\n\n\t\t// specify if this is a dynamic instance\n\t\tif (os.getAttribute('data-open-share-dynamic')) {\n\t\t\topenShare.dynamic = true;\n\t\t}\n\n\t\t// set all optional attributes on open share instance\n\t\tsetData(openShare, os);\n\n\t\t// open share dialog on click\n\t\tos.addEventListener('click', (e) => {\n\t\t\tshare(e, os, openShare);\n\t\t});\n\n\t\tos.addEventListener('OpenShare.trigger', (e) => {\n\t\t\tshare(e, os, openShare);\n\t\t});\n\n\t\tos.setAttribute('data-open-share-node', type);\n\t}\n\n\tfunction initializeWatcher(watcher) {\n\t\t[].forEach.call(watcher, (w) => {\n\t\t\tvar observer = new MutationObserver((mutations) => {\n\t\t\t\t// target will match between all mutations so just use first\n\t\t\t\tinitializeNodes(mutations[0].target);\n\t\t\t});\n\n\t\t\tobserver.observe(w, {\n\t\t\t\tchildList: true\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction share(e, os, openShare) {\n\t\t// if dynamic instance then fetch attributes again in case of updates\n\t\tif (openShare.dynamic) {\n\t\t\tsetData(openShare, os);\n\t\t}\n\n\t\topenShare.share(e);\n\n\t\t// trigger shared event\n\t\tEvents.trigger(os, 'shared');\n\t}\n\n\tfunction setData(osInstance, osElement) {\n\t\tosInstance.setData({\n\t\t\turl: osElement.getAttribute('data-open-share-url'),\n\t\t\ttext: osElement.getAttribute('data-open-share-text'),\n\t\t\tvia: osElement.getAttribute('data-open-share-via'),\n\t\t\thashtags: osElement.getAttribute('data-open-share-hashtags'),\n\t\t\ttweetId: osElement.getAttribute('data-open-share-tweet-id'),\n\t\t\trelated: osElement.getAttribute('data-open-share-related'),\n\t\t\tscreenName: osElement.getAttribute('data-open-share-screen-name'),\n\t\t\tuserId: osElement.getAttribute('data-open-share-user-id'),\n\t\t\tlink: osElement.getAttribute('data-open-share-link'),\n\t\t\tpicture: osElement.getAttribute('data-open-share-picture'),\n\t\t\tcaption: osElement.getAttribute('data-open-share-caption'),\n\t\t\tdescription: osElement.getAttribute('data-open-share-description'),\n\t\t\tuser: osElement.getAttribute('data-open-share-user'),\n\t\t\tvideo: osElement.getAttribute('data-open-share-video'),\n\t\t\tusername: osElement.getAttribute('data-open-share-username'),\n\t\t\ttitle: osElement.getAttribute('data-open-share-title'),\n\t\t\tmedia: osElement.getAttribute('data-open-share-media'),\n\t\t\tto: osElement.getAttribute('data-open-share-to'),\n\t\t\tsubject: osElement.getAttribute('data-open-share-subject'),\n\t\t\tbody: osElement.getAttribute('data-open-share-body'),\n\t\t\tios: osElement.getAttribute('data-open-share-ios')\n\t\t});\n\t}\n};\n\n},{}],6:[function(require,module,exports){\n/**\n * Trigger custom OpenShare namespaced event\n */\nmodule.exports = {\n\ttrigger: function(element, event) {\n\t\tlet ev = document.createEvent('Event');\n\t\tev.initEvent('OpenShare.' + event, true, true);\n\t\telement.dispatchEvent(ev);\n\t}\n};\n\n},{}],7:[function(require,module,exports){\n/**\n * OpenShare generates a single share link\n */\nmodule.exports = class OpenShare {\n\n\tconstructor(type, transform) {\n\t\tthis.ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\t\tthis.type = type;\n\t\tthis.dynamic = false;\n\t\tthis.transform = transform;\n\n\t\t// capitalized type\n\t\tthis.typeCaps = type.charAt(0).toUpperCase() + type.slice(1);\n\t}\n\n\t// returns function named as type set in constructor\n\t// e.g twitter()\n\tsetData(data) {\n\t\t// if iOS user and ios data attribute defined\n\t\t// build iOS URL scheme as single string\n\t\tif (this.ios) {\n\t\t\tlet transform = this.transform(data, true);\n\t\t\tthis.mobileShareUrl = this.template(transform.url, transform.data);\n\t\t}\n\n\t\tlet transform = this.transform(data);\n\t\tthis.shareUrl = this.template(transform.url, transform.data);\n\t}\n\n\t// open share URL defined in individual platform functions\n\tshare(e) {\n\t\t// if iOS share URL has been set then use timeout hack\n\t\t// test for native app and fall back to web\n\t\tif (this.mobileShareUrl) {\n\t\t\tvar start = (new Date()).valueOf();\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tvar end = (new Date()).valueOf();\n\n\t\t\t\t// if the user is still here, fall back to web\n\t\t\t\tif (end - start > 1600) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twindow.location = this.shareUrl;\n\t\t\t}, 1500);\n\n\t\t\twindow.location = this.mobileShareUrl;\n\n\t\t\t// open mailto links in same window\n\t\t} else if (this.type === 'email') {\n\t\t\twindow.location = this.shareUrl;\n\n\t\t\t// open social share URLs in new window\n\t\t} else {\n\t\t\twindow.open(this.shareUrl, 'OpenShare');\n\t\t}\n\t}\n\n\t// create share URL with GET params\n\t// appending valid properties to query string\n\ttemplate(url, data) {\n\t\tlet shareUrl = url,\n\t\t\ti;\n\n\t\tfor (i in data) {\n\t\t\t// only append valid properties\n\t\t\tif (!data[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// append URL encoded GET param to share URL\n\t\t\tdata[i] = encodeURIComponent(data[i]);\n\t\t\tshareUrl += `${i}=${data[i]}&`;\n\t\t}\n\n\t\treturn shareUrl.substr(0, shareUrl.length - 1);\n\t}\n};\n\n},{}],8:[function(require,module,exports){\n/**\n * Object of transform functions for each openshare api\n * Transform functions passed into OpenShare instance when instantiated\n * Return object containing URL and key/value args\n */\nmodule.exports = {\n\n\t// set Twitter share URL\n\ttwitter: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\t// build iOS URL scheme as single string\n\t\tif (ios && data.ios) {\n\n\t\t\tlet message = ``;\n\n\t\t\tif (data.text) {\n\t\t\t\tmessage += data.text;\n\t\t\t}\n\n\t\t\tif (data.url) {\n\t\t\t\tmessage += ` - ${data.url}`;\n\t\t\t}\n\n\t\t\tif (data.hashtags) {\n\t\t\t\tlet tags = data.hashtags.split(',');\n\t\t\t\ttags.forEach(function(tag) {\n\t\t\t\t\tmessage += ` #${tag}`;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.via) {\n\t\t\t\tmessage += ` via ${data.via}`;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\turl: 'twitter://post?',\n\t\t\t\tdata: {\n\t\t\t\t\tmessage: message\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/share?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Twitter retweet URL\n\ttwitterRetweet: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'twitter://status?',\n\t\t\t\tdata: {\n\t\t\t\t\tid: data.tweetId\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/retweet?',\n\t\t\tdata: {\n\t\t\t\ttweet_id: data.tweetId,\n\t\t\t\trelated: data.related\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Twitter like URL\n\ttwitterLike: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'twitter://status?',\n\t\t\t\tdata: {\n\t\t\t\t\tid: data.tweetId\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/favorite?',\n\t\t\tdata: {\n\t\t\t\ttweet_id: data.tweetId,\n\t\t\t\trelated: data.related\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Twitter follow URL\n\ttwitterFollow: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\tlet iosData = data.screenName ? {\n\t\t\t\t'screen_name': data.screenName\n\t\t\t} : {\n\t\t\t\t'id': data.userId\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\turl: 'twitter://user?',\n\t\t\t\tdata: iosData\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/user?',\n\t\t\tdata: {\n\t\t\t\tscreen_name: data.screenName,\n\t\t\t\tuser_id: data.userId\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Facebook share URL\n\tfacebook: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.facebook.com/dialog/feed?app_id=961342543922322&redirect_uri=http://facebook.com&',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Facebook send URL\n\tfacebookSend: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.facebook.com/dialog/send?app_id=961342543922322&redirect_uri=http://facebook.com&',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set YouTube play URL\n\tyoutube: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `youtube:${data.video}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `https://www.youtube.com/watch?v=${data.video}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set YouTube subcribe URL\n\tyoutubeSubscribe: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `youtube://www.youtube.com/user/${data.user}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `https://www.youtube.com/user/${data.user}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set Instagram follow URL\n\tinstagram: function(data) {\n\t\treturn {\n\t\t\turl: `instagram://camera?`\n\t\t};\n\t},\n\n\t// set Instagram follow URL\n\tinstagramFollow: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'instagram://user?',\n\t\t\t\tdata: data\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `http://www.instagram.com/${data.username}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set Snapchat follow URL\n\tsnapchat: function(data) {\n\t\treturn {\n\t\t\turl: `snapchat://add/${data.username}?`\n\t\t};\n\t},\n\n\t// set Google share URL\n\tgoogle: function(data) {\n\t\treturn {\n\t\t\turl: 'https://plus.google.com/share?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Pinterest share URL\n\tpinterest: function(data) {\n\t\treturn {\n\t\t\turl: 'https://pinterest.com/pin/create/bookmarklet/?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set LinkedIn share URL\n\tlinkedin: function(data) {\n\t\treturn {\n\t\t\turl: 'http://www.linkedin.com/shareArticle?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Buffer share URL\n\tbuffer: function(data) {\n\t\treturn {\n\t\t\turl: 'http://bufferapp.com/add?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Tumblr share URL\n\ttumblr: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.tumblr.com/widgets/share/tool?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Reddit share URL\n\treddit: function(data) {\n\t\treturn {\n\t\t\turl: 'http://reddit.com/submit?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Flickr follow URL\n\tflickr: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `flickr://photos/${data.username}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `http://www.flickr.com/photos/${data.username}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set WhatsApp share URL\n\twhatsapp: function(data) {\n\t\treturn {\n\t\t\turl: 'whatsapp://send?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set sms share URL\n\tsms: function(data, ios = false) {\n\t\treturn {\n\t\t\turl: ios ? 'sms:&' : 'sms:?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Email share URL\n\temail: function(data) {\n\n\t\tvar url = `mailto:`;\n\n\t\t// if to address specified then add to URL\n\t\tif (data.to !== null) {\n\t\t\turl += `${data.to}`;\n\t\t}\n\n\t\turl += `?`;\n\n\t\treturn {\n\t\t\turl: url,\n\t\t\tdata: {\n\t\t\t\tsubject: data.subject,\n\t\t\t\tbody: data.body\n\t\t\t}\n\t\t};\n\t}\n};\n\n},{}],9:[function(require,module,exports){\n(function() {\n\n\tvar OpenShare = require('./index');\n\n\tvar dynamicNodeData = {\n\t\t'url': 'http://www.digitalsurgeons.com',\n\t\t'via': 'digitalsurgeons',\n\t\t'text': 'Forward Obsessed',\n\t\t'hashtags': 'forwardobsessed'\n\t};\n\n\tfunction createOpenShareNode(data) {\n\t\tvar openShare = document.createElement('a');\n\n\t\topenShare.classList.add('open-share-link', 'twitter');\n\t\topenShare.setAttribute('data-open-share', 'twitter');\n\t\topenShare.setAttribute('data-open-share-url', data.url);\n\t\topenShare.setAttribute('data-open-share-via', data.via);\n\t\topenShare.setAttribute('data-open-share-text', data.text);\n\t\topenShare.setAttribute('data-open-share-hashtags', data.hashtags);\n\t\topenShare.innerHTML = '<span class=\"fa fa-twitter\"></span>' + data.button;\n\n\t\treturn openShare;\n\t}\n\n\tfunction addNode() {\n\t\tvar data = dynamicNodeData;\n\t\tdata.button = 'Open Share Watcher!';\n\t\tdocument.querySelector('.open-share-watch')\n\t\t\t.appendChild(createOpenShareNode(data));\n\t}\n\n\twindow.addNode = addNode\n\n\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t// add open share node\n\t\tvar data = dynamicNodeData;\n\t\tdata.button = 'Dynamic Open Share!';\n\t\tdocument.querySelector('.open-share-nodes')\n\t\t\t.appendChild(createOpenShareNode(dynamicNodeData));\n\n\t\tvar ev = document.createEvent('Event');\n\t\tev.initEvent('OpenShare.load', true, true);\n\t\tdocument.dispatchEvent(ev);\n\t});\n\n\t// bind to loaded event\n\tdocument.addEventListener('OpenShare.loaded', function() {\n\t\tconsole.log('Open Share loaded');\n\n\t\t// bind to shared event on each individual node\n\t\t[].forEach.call(document.querySelectorAll('[data-open-share]'), function(node) {\n\t\t\tnode.addEventListener('OpenShare.shared', function(e) {\n\t\t\t\tconsole.log('Open Share Shared', e);\n\t\t\t});\n\t\t});\n\n\t\tvar examples = {\n\t\t\ttwitter: new OpenShare(document.querySelector('[data-api-example=\"twitter\"]'), {\n\t\t\t\ttype: 'twitter',\n\t\t\t\tbindClick: true,\n\t\t\t\turl: 'http://digitalsurgeons.com',\n\t\t\t\tvia: 'digitalsurgeons',\n\t\t\t\ttext: 'Digital Surgeons',\n\t\t\t\thashtags: 'forwardobsessed'\n\t\t\t}),\n\n\t\t\tfacebook: new OpenShare(document.querySelector('[data-api-example=\"facebook\"]'), {\n\t\t\t\ttype: 'facebook',\n\t\t\t\tbindClick: true,\n\t\t\t\tlink: 'http://digitalsurgeons.com',\n\t\t\t\tpicture: 'http://www.digitalsurgeons.com/img/about/bg_office_team.jpg',\n\t\t\t\tcaption: 'Digital Surgeons',\n\t\t\t\tdescription: 'forwardobsessed'\n\t\t\t}),\n\n\t\t\tpinterest: new OpenShare(document.querySelector('[data-api-example=\"pinterest\"]'), {\n\t\t\t\ttype: 'pinterest',\n\t\t\t\tbindClick: true,\n\t\t\t\turl: 'http://digitalsurgeons.com',\n\t\t\t\tmedia: 'http://www.digitalsurgeons.com/img/about/bg_office_team.jpg',\n\t\t\t\tdescription: 'Digital Surgeons'\n\t\t\t}),\n\n\t\t\temail: new OpenShare(document.querySelector('[data-api-example=\"email\"]'), {\n\t\t\t\ttype: 'email',\n\t\t\t\tbindClick: true,\n\t\t\t\tto: 'techroom@digitalsurgeons.com',\n\t\t\t\tsubject: 'Digital Surgeons',\n\t\t\t\tbody: 'Forward Obsessed'\n\t\t\t})\n\t\t};\n\t});\n})();\n\n},{\"./index\":1}]},{},[9]);\n"],"sourceRoot":"/source/"}