{"version":3,"sources":["open-share.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","e","t","n","r","s","o","u","a","require","f","Error","code","l","exports","call","1","module","DataAttr","API","Events","OpenShare","ShareTransforms","Count","window","./modules/api","./modules/count","./modules/data-attr","./modules/events","./modules/open-share","./modules/share-transforms","2","OS","element","data","_this","this","os","type","setData","bindClick","addEventListener","share","dynamic","trigger","3","facebook","url","transform","xhr","count","JSON","parse","responseText","shares","storeSet","pinterest","linkedin","reddit","posts","children","ups","forEach","post","Number","google","method","id","params","nolog","source","userId","groupId","jsonrpc","apiVersion","result","metadata","globalCounts","4","CountTransforms","_this2","indexOf","typeArr","split","countData","push","value","Array","isArray","getCounts","getCount","storeGet","innerHTML","_this3","total","num","tot","cb","_this4","callback","Math","random","toString","substr","apply","script","document","createElement","src","replace","getElementsByTagName","appendChild","_this5","XMLHttpRequest","onreadystatechange","readyState","DONE","status","open","send","_this6","setRequestHeader","stringify","arguments","undefined","localStorage","setItem","getItem","./count-transforms","5","init","initializeNodes","MutationObserver","initializeWatcher","querySelectorAll","container","shareNodes","initializeShareNode","countNodes","initializeCountNode","getAttribute","setAttribute","dash","openShare","nextChar","group","toUpperCase","watcher","w","observer","mutations","observe","childList","osInstance","osElement","text","via","hashtags","tweetId","related","screenName","link","picture","caption","description","user","video","username","title","media","to","subject","body","ios","6","event","ev","createEvent","initEvent","dispatchEvent","7","test","navigator","userAgent","MSStream","typeCaps","charAt","slice","_transform","mobileShareUrl","template","shareUrl","_this7","start","Date","valueOf","setTimeout","end","location","encodeURIComponent","8","twitter","message","tags","tag","twitterRetweet","tweet_id","twitterLike","twitterFollow","iosData","screen_name","user_id","facebookSend","youtube","youtubeSubscribe","instagram","instagramFollow","snapchat","buffer","tumblr","flickr","whatsapp","sms","email"],"mappings":"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","file":"open-share.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = (function() {\n\n\tvar DataAttr = require('./modules/data-attr'),\n\t\tAPI = require('./modules/api'),\n\t\tEvents = require('./modules/events'),\n\t\tOpenShare = require('./modules/open-share'),\n\t\tShareTransforms = require('./modules/share-transforms'),\n\t\tCount = require('./modules/count');\n\n\tDataAttr(OpenShare, Count, ShareTransforms, Events);\n\twindow.OpenShare = API(OpenShare, ShareTransforms, Events);\n})();\n\n},{\"./modules/api\":2,\"./modules/count\":4,\"./modules/data-attr\":5,\"./modules/events\":6,\"./modules/open-share\":7,\"./modules/share-transforms\":8}],2:[function(require,module,exports){\n/**\n * Global OpenShare API to generate instances programmatically\n */\nmodule.exports = function(OS, ShareTransforms, Events) {\n\n\t// global OpenShare referencing internal class for instance generation\n\tfunction OpenShare(element, data) {\n\t\tthis.element = element;\n\t\tthis.data = data;\n\n\t\tthis.os = new OS(data.type, ShareTransforms[data.type]);\n\t\tthis.os.setData(data);\n\n\t\t// automatically open share dialog on click\n\t\tif (this.data.bindClick) {\n\t\t\tthis.element.addEventListener('click', (e) => {\n\t\t\t\tthis.share();\n\t\t\t});\n\t\t}\n\t}\n\n\t// public share method to trigger share programmatically\n\tOpenShare.prototype.share = function(e) {\n\t\t// if dynamic instance then fetch attributes again in case of updates\n\t\tif (this.data.dynamic) {\n\t\t\tthis.os.setData(data);\n\t\t}\n\n\t\tthis.os.share(e);\n\n\t\tEvents.trigger(this.element, 'shared');\n\t};\n\n\treturn OpenShare;\n};\n\n},{}],3:[function(require,module,exports){\n/**\n * Object of transform functions for each openshare api\n * Transform functions passed into OpenShare instance when instantiated\n * Return object containing URL and key/value args\n */\nmodule.exports = {\n\n\t// facebook count data\n\tfacebook: function(url) {\n\t\treturn {\n\t\t\ttype: 'get',\n\t\t\turl: `//graph.facebook.com/?id=${url}`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet count = JSON.parse(xhr.responseText).shares;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// pinterest count data\n\tpinterest: function(url) {\n\t\treturn {\n\t\t\ttype: 'jsonp',\n\t\t\turl: `//api.pinterest.com/v1/urls/count.json?callback=?&url=${url}`,\n\t\t\ttransform: function(data) {\n\t\t\t\tlet count = data.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// linkedin count data\n\tlinkedin: function(url) {\n\t\treturn {\n\t\t\ttype: 'jsonp',\n\t\t\turl: `//www.linkedin.com/countserv/count/share?url=${url}&format=jsonp&callback=?`,\n\t\t\ttransform: function(data) {\n\t\t\t\tlet count = data.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t},\n\n\t// reddit count data\n\treddit: function(url) {\n\t\treturn {\n\t\t\ttype: 'get',\n\t\t\turl: `//www.reddit.com/api/info.json?url=${url}`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet posts = JSON.parse(xhr.responseText).data.children,\n\t\t\t\t\tups = 0;\n\n\t\t\t\tposts.forEach((post) => {\n\t\t\t\t\tups += Number(post.data.ups);\n\t\t\t\t});\n\n\t\t\t\tthis.storeSet(this.type, ups);\n\n\t\t\t\treturn ups;\n\t\t\t}\n\t\t};\n\t},\n\n\t// linkedin count data\n\tgoogle: function(url) {\n\t\treturn {\n\t\t\ttype: 'post',\n\t\t\tdata: {\n\t\t\t\tmethod: 'pos.plusones.get',\n\t\t\t\tid: 'p',\n\t\t\t\tparams: {\n\t\t\t\t\tnolog: true,\n\t\t\t\t\tid: url,\n\t\t\t\t\tsource: 'widget',\n\t\t\t\t\tuserId: '@viewer',\n\t\t\t\t\tgroupId: '@self'\n\t\t\t\t},\n\t\t\t\tjsonrpc: '2.0',\n\t\t\t\tkey: 'p',\n\t\t\t\tapiVersion: 'v1'\n\t\t\t},\n\t\t\turl: `https://clients6.google.com/rpc`,\n\t\t\ttransform: function(xhr) {\n\t\t\t\tlet count = JSON.parse(xhr.responseText).result.metadata.globalCounts.count;\n\t\t\t\tthis.storeSet(this.type, count);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t}\n\n};\n\n},{}],4:[function(require,module,exports){\n/**\n * Generate share count instance from one to many networks\n */\n\nvar CountTransforms = require('./count-transforms');\n\nmodule.exports = class Count {\n\n\tconstructor(type, url) {\n\n\t\t// throw error if no url provided\n\t\tif (!url) {\n\t\t\tthrow new Error(`Open Share: no url provided for count`);\n\t\t}\n\n\t\t// if type is comma separate list create array\n\t\tif (type.indexOf(',') > -1) {\n\t\t\tthis.type = type;\n\t\t\tthis.typeArr = this.type.split(',');\n\t\t\tthis.countData = [];\n\n\t\t\t// check each type supplied is valid\n\t\t\tthis.typeArr.forEach((t) => {\n\t\t\t\tif (!CountTransforms[t]) {\n\t\t\t\t\tthrow new Error(`Open Share: ${type} is an invalid count type`);\n\t\t\t\t}\n\n\t\t\t\tthis.countData.push(CountTransforms[t](url));\n\t\t\t});\n\n\t\t// throw error if invalid type provided\n\t\t} else if (!CountTransforms[type]) {\n\t\t\tthrow new Error(`Open Share: ${type} is an invalid count type`);\n\n\t\t// single count\n\t\t// store count URL and transform function\n\t\t} else {\n\t\t\tthis.type = type;\n\t\t\tthis.countData = CountTransforms[type](url);\n\t\t}\n\t}\n\n\t// handle calling getCount / getCounts\n\t// depending on number of types\n\tcount(os) {\n\t\tthis.os = os;\n\n\t\tif (!Array.isArray(this.countData)) {\n\t\t\tthis.getCount();\n\t\t} else {\n\t\t\tthis.getCounts();\n\t\t}\n\t}\n\n\t// fetch count either AJAX or JSONP\n\tgetCount() {\n\t\tvar count = this.storeGet(this.type);\n\n\t\tif (count) {\n\t\t\tthis.os.innerHTML = count;\n\t\t}\n\n\t\tthis[this.countData.type](this.countData);\n\t}\n\n\t// fetch multiple counts and aggregate\n\tgetCounts() {\n\t\tthis.total = [];\n\n\t\tvar count = this.storeGet(this.type);\n\n\t\tif (count) {\n\t\t\tthis.os.innerHTML = count;\n\t\t}\n\n\t\tthis.countData.forEach((countData) => {\n\n\t\t\tthis[countData.type](countData, (num) => {\n\t\t\t\tthis.total.push(num);\n\n\t\t\t\t// total counts length now equals type array length\n\t\t\t\t// so aggregate, store and insert into DOM\n\t\t\t\tif (this.total.length === this.typeArr.length) {\n\t\t\t\t\tlet tot = 0;\n\n\t\t\t\t\tthis.total.forEach((t) => {\n\t\t\t\t\t\ttot += t;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.storeSet(this.type, tot);\n\t\t\t\t\tthis.os.innerHTML = tot;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.os.innerHTML = this.total;\n\t}\n\n\t// handle JSONP requests\n\tjsonp(countData, cb) {\n\t\t// define random callback and assign transform function\n\t\tlet callback = `jsonp_${Math.random().toString().substr(-10)}`;\n\t\twindow[callback] = (data) => {\n\t\t\tlet count = countData.transform.apply(this, [data]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\t// append JSONP script tag to page\n\t\tlet script = document.createElement('script');\n\t\tscript.src = countData.url.replace('callback=?', `callback=${callback}`);\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\n\t\treturn;\n\t}\n\n\t// handle AJAX GET request\n\tget(countData, cb) {\n\t\tlet xhr = new XMLHttpRequest();\n\n\t\t// on success pass response to transform function\n\t\txhr.onreadystatechange = () => {\n\t\t\tif (xhr.readyState !== XMLHttpRequest.DONE ||\n\t\t\t\txhr.status !== 200) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet count = countData.transform.apply(this, [xhr]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\txhr.open('GET', countData.url);\n\t\txhr.send();\n\t}\n\n\t// handle AJAX POST request\n\tpost(countData, cb) {\n\t\tlet xhr = new XMLHttpRequest();\n\n\t\t// on success pass response to transform function\n\t\txhr.onreadystatechange = () => {\n\t\t\tif (xhr.readyState !== XMLHttpRequest.DONE ||\n\t\t\t\txhr.status !== 200) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet count = countData.transform.apply(this, [xhr]) || 0;\n\n\t\t\tif (cb && typeof cb === 'function') {\n\t\t\t\tcb(count);\n\t\t\t} else {\n\t\t\t\tthis.os.innerHTML = count;\n\t\t\t}\n\t\t};\n\n\t\txhr.open('POST', countData.url);\n\t\txhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n\t\txhr.send(JSON.stringify(countData.data));\n\t}\n\n\tstoreSet(type, count = 0) {\n\t\tif (!window.localStorage || !type) {\n\t\t\treturn;\n\t\t}\n\n\t\tlocalStorage.setItem(`OpenShare-${type}`, count);\n\t}\n\n\tstoreGet(type) {\n\t\tif (!window.localStorage || !type) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn localStorage.getItem(`OpenShare-${type}`);\n\t}\n\n};\n\n},{\"./count-transforms\":3}],5:[function(require,module,exports){\n/**\n * Configure data attribute API\n */\nmodule.exports = function(OpenShare, Count, ShareTransforms, Events) {\n\n\tdocument.addEventListener('OpenShare.load', init);\n\tdocument.addEventListener('DOMContentLoaded', init);\n\n\tfunction init() {\n\t\tinitializeNodes();\n\n\t\t// check for mutation observers before using, IE11 only\n\t\tif (window.MutationObserver !== undefined) {\n\t\t\tinitializeWatcher(document.querySelectorAll('[data-open-share-watch]'));\n\t\t}\n\t}\n\n\tfunction initializeNodes(container = document) {\n\t\t// loop through open share node collection\n\t\tlet shareNodes = container.querySelectorAll('[data-open-share]:not([data-open-share-node])');\n\t\t[].forEach.call(shareNodes, initializeShareNode);\n\n\t\t// loop through count node collection\n\t\tlet countNodes = container.querySelectorAll('[data-open-share-count]:not([data-open-share-node])');\n\t\t[].forEach.call(countNodes, initializeCountNode);\n\n\t\t// trigger completed event\n\t\tEvents.trigger(document, 'loaded');\n\t}\n\n\tfunction initializeCountNode(os) {\n\t\t// initialize open share object with type attribute\n\t\tlet type = os.getAttribute('data-open-share-count'),\n\t\t\tcount = new Count(type, os.getAttribute('data-open-share-count-url'));\n\n\t\tcount.count(os);\n\t\tos.setAttribute('data-open-share-node', type);\n\t}\n\n\tfunction initializeShareNode(os) {\n\t\t// initialize open share object with type attribute\n\t\tlet type = os.getAttribute('data-open-share'),\n\t\t\tdash = type.indexOf('-'),\n\t\t\topenShare;\n\n\t\t// type contains a dash\n\t\t// transform to camelcase for function reference\n\t\t// TODO: only supports single dash, should should support multiple\n\t\tif (dash > -1) {\n\t\t\tlet nextChar = type.substr(dash + 1, 1),\n\t\t\t\tgroup = type.substr(dash, 2);\n\n\t\t\ttype = type.replace(group, nextChar.toUpperCase());\n\t\t}\n\n\t\tlet transform = ShareTransforms[type];\n\n\t\tif (!transform) {\n\t\t\tthrow new Error(`Open Share: ${type} is an invalid type`);\n\t\t}\n\n\t\topenShare = new OpenShare(type, transform);\n\n\t\t// specify if this is a dynamic instance\n\t\tif (os.getAttribute('data-open-share-dynamic')) {\n\t\t\topenShare.dynamic = true;\n\t\t}\n\n\t\t// set all optional attributes on open share instance\n\t\tsetData(openShare, os);\n\n\t\t// open share dialog on click\n\t\tos.addEventListener('click', (e) => {\n\t\t\tshare(e, os, openShare);\n\t\t});\n\n\t\tos.addEventListener('OpenShare.trigger', (e) => {\n\t\t\tshare(e, os, openShare);\n\t\t});\n\n\t\tos.setAttribute('data-open-share-node', type);\n\t}\n\n\tfunction initializeWatcher(watcher) {\n\t\t[].forEach.call(watcher, (w) => {\n\t\t\tvar observer = new MutationObserver((mutations) => {\n\t\t\t\t// target will match between all mutations so just use first\n\t\t\t\tinitializeNodes(mutations[0].target);\n\t\t\t});\n\n\t\t\tobserver.observe(w, {\n\t\t\t\tchildList: true\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction share(e, os, openShare) {\n\t\t// if dynamic instance then fetch attributes again in case of updates\n\t\tif (openShare.dynamic) {\n\t\t\tsetData(openShare, os);\n\t\t}\n\n\t\topenShare.share(e);\n\n\t\t// trigger shared event\n\t\tEvents.trigger(os, 'shared');\n\t}\n\n\tfunction setData(osInstance, osElement) {\n\t\tosInstance.setData({\n\t\t\turl: osElement.getAttribute('data-open-share-url'),\n\t\t\ttext: osElement.getAttribute('data-open-share-text'),\n\t\t\tvia: osElement.getAttribute('data-open-share-via'),\n\t\t\thashtags: osElement.getAttribute('data-open-share-hashtags'),\n\t\t\ttweetId: osElement.getAttribute('data-open-share-tweet-id'),\n\t\t\trelated: osElement.getAttribute('data-open-share-related'),\n\t\t\tscreenName: osElement.getAttribute('data-open-share-screen-name'),\n\t\t\tuserId: osElement.getAttribute('data-open-share-user-id'),\n\t\t\tlink: osElement.getAttribute('data-open-share-link'),\n\t\t\tpicture: osElement.getAttribute('data-open-share-picture'),\n\t\t\tcaption: osElement.getAttribute('data-open-share-caption'),\n\t\t\tdescription: osElement.getAttribute('data-open-share-description'),\n\t\t\tuser: osElement.getAttribute('data-open-share-user'),\n\t\t\tvideo: osElement.getAttribute('data-open-share-video'),\n\t\t\tusername: osElement.getAttribute('data-open-share-username'),\n\t\t\ttitle: osElement.getAttribute('data-open-share-title'),\n\t\t\tmedia: osElement.getAttribute('data-open-share-media'),\n\t\t\tto: osElement.getAttribute('data-open-share-to'),\n\t\t\tsubject: osElement.getAttribute('data-open-share-subject'),\n\t\t\tbody: osElement.getAttribute('data-open-share-body'),\n\t\t\tios: osElement.getAttribute('data-open-share-ios')\n\t\t});\n\t}\n};\n\n},{}],6:[function(require,module,exports){\n/**\n * Trigger custom OpenShare namespaced event\n */\nmodule.exports = {\n\ttrigger: function(element, event) {\n\t\tlet ev = document.createEvent('Event');\n\t\tev.initEvent('OpenShare.' + event, true, true);\n\t\telement.dispatchEvent(ev);\n\t}\n};\n\n},{}],7:[function(require,module,exports){\n/**\n * OpenShare generates a single share link\n */\nmodule.exports = class OpenShare {\n\n\tconstructor(type, transform) {\n\t\tthis.ios = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\t\tthis.type = type;\n\t\tthis.dynamic = false;\n\t\tthis.transform = transform;\n\n\t\t// capitalized type\n\t\tthis.typeCaps = type.charAt(0).toUpperCase() + type.slice(1);\n\t}\n\n\t// returns function named as type set in constructor\n\t// e.g twitter()\n\tsetData(data) {\n\t\t// if iOS user and ios data attribute defined\n\t\t// build iOS URL scheme as single string\n\t\tif (this.ios) {\n\t\t\tlet transform = this.transform(data, true);\n\t\t\tthis.mobileShareUrl = this.template(transform.url, transform.data);\n\t\t}\n\n\t\tlet transform = this.transform(data);\n\t\tthis.shareUrl = this.template(transform.url, transform.data);\n\t}\n\n\t// open share URL defined in individual platform functions\n\tshare(e) {\n\t\t// if iOS share URL has been set then use timeout hack\n\t\t// test for native app and fall back to web\n\t\tif (this.mobileShareUrl) {\n\t\t\tvar start = (new Date()).valueOf();\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tvar end = (new Date()).valueOf();\n\n\t\t\t\t// if the user is still here, fall back to web\n\t\t\t\tif (end - start > 1600) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twindow.location = this.shareUrl;\n\t\t\t}, 1500);\n\n\t\t\twindow.location = this.mobileShareUrl;\n\n\t\t\t// open mailto links in same window\n\t\t} else if (this.type === 'email') {\n\t\t\twindow.location = this.shareUrl;\n\n\t\t\t// open social share URLs in new window\n\t\t} else {\n\t\t\twindow.open(this.shareUrl, 'OpenShare');\n\t\t}\n\t}\n\n\t// create share URL with GET params\n\t// appending valid properties to query string\n\ttemplate(url, data) {\n\t\tlet shareUrl = url,\n\t\t\ti;\n\n\t\tfor (i in data) {\n\t\t\t// only append valid properties\n\t\t\tif (!data[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// append URL encoded GET param to share URL\n\t\t\tdata[i] = encodeURIComponent(data[i]);\n\t\t\tshareUrl += `${i}=${data[i]}&`;\n\t\t}\n\n\t\treturn shareUrl.substr(0, shareUrl.length - 1);\n\t}\n};\n\n},{}],8:[function(require,module,exports){\n/**\n * Object of transform functions for each openshare api\n * Transform functions passed into OpenShare instance when instantiated\n * Return object containing URL and key/value args\n */\nmodule.exports = {\n\n\t// set Twitter share URL\n\ttwitter: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\t// build iOS URL scheme as single string\n\t\tif (ios && data.ios) {\n\n\t\t\tlet message = ``;\n\n\t\t\tif (data.text) {\n\t\t\t\tmessage += data.text;\n\t\t\t}\n\n\t\t\tif (data.url) {\n\t\t\t\tmessage += ` - ${data.url}`;\n\t\t\t}\n\n\t\t\tif (data.hashtags) {\n\t\t\t\tlet tags = data.hashtags.split(',');\n\t\t\t\ttags.forEach(function(tag) {\n\t\t\t\t\tmessage += ` #${tag}`;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.via) {\n\t\t\t\tmessage += ` via ${data.via}`;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\turl: 'twitter://post?',\n\t\t\t\tdata: {\n\t\t\t\t\tmessage: message\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/share?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Twitter retweet URL\n\ttwitterRetweet: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'twitter://status?',\n\t\t\t\tdata: {\n\t\t\t\t\tid: data.tweetId\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/retweet?',\n\t\t\tdata: {\n\t\t\t\ttweet_id: data.tweetId,\n\t\t\t\trelated: data.related\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Twitter like URL\n\ttwitterLike: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'twitter://status?',\n\t\t\t\tdata: {\n\t\t\t\t\tid: data.tweetId\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/favorite?',\n\t\t\tdata: {\n\t\t\t\ttweet_id: data.tweetId,\n\t\t\t\trelated: data.related\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Twitter follow URL\n\ttwitterFollow: function(data, ios = false) {\n\t\t// if iOS user and ios data attribute defined\n\t\tif (ios && data.ios) {\n\t\t\tlet iosData = data.screenName ? {\n\t\t\t\t'screen_name': data.screenName\n\t\t\t} : {\n\t\t\t\t'id': data.userId\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\turl: 'twitter://user?',\n\t\t\t\tdata: iosData\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\turl: 'https://twitter.com/intent/user?',\n\t\t\tdata: {\n\t\t\t\tscreen_name: data.screenName,\n\t\t\t\tuser_id: data.userId\n\t\t\t}\n\t\t};\n\t},\n\n\t// set Facebook share URL\n\tfacebook: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.facebook.com/dialog/feed?app_id=961342543922322&redirect_uri=http://facebook.com&',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Facebook send URL\n\tfacebookSend: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.facebook.com/dialog/send?app_id=961342543922322&redirect_uri=http://facebook.com&',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set YouTube play URL\n\tyoutube: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `youtube:${data.video}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `https://www.youtube.com/watch?v=${data.video}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set YouTube subcribe URL\n\tyoutubeSubscribe: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `youtube://www.youtube.com/user/${data.user}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `https://www.youtube.com/user/${data.user}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set Instagram follow URL\n\tinstagram: function(data) {\n\t\treturn {\n\t\t\turl: `instagram://camera?`\n\t\t};\n\t},\n\n\t// set Instagram follow URL\n\tinstagramFollow: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: 'instagram://user?',\n\t\t\t\tdata: data\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `http://www.instagram.com/${data.username}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set Snapchat follow URL\n\tsnapchat: function(data) {\n\t\treturn {\n\t\t\turl: `snapchat://add/${data.username}?`\n\t\t};\n\t},\n\n\t// set Google share URL\n\tgoogle: function(data) {\n\t\treturn {\n\t\t\turl: 'https://plus.google.com/share?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Pinterest share URL\n\tpinterest: function(data) {\n\t\treturn {\n\t\t\turl: 'https://pinterest.com/pin/create/bookmarklet/?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set LinkedIn share URL\n\tlinkedin: function(data) {\n\t\treturn {\n\t\t\turl: 'http://www.linkedin.com/shareArticle?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Buffer share URL\n\tbuffer: function(data) {\n\t\treturn {\n\t\t\turl: 'http://bufferapp.com/add?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Tumblr share URL\n\ttumblr: function(data) {\n\t\treturn {\n\t\t\turl: 'https://www.tumblr.com/widgets/share/tool?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Reddit share URL\n\treddit: function(data) {\n\t\treturn {\n\t\t\turl: 'http://reddit.com/submit?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Flickr follow URL\n\tflickr: function(data, ios = false) {\n\t\t// if iOS user\n\t\tif (ios && data.ios) {\n\t\t\treturn {\n\t\t\t\turl: `flickr://photos/${data.username}?`\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\turl: `http://www.flickr.com/photos/${data.username}?`\n\t\t\t};\n\t\t}\n\t},\n\n\t// set WhatsApp share URL\n\twhatsapp: function(data) {\n\t\treturn {\n\t\t\turl: 'whatsapp://send?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set sms share URL\n\tsms: function(data, ios = false) {\n\t\treturn {\n\t\t\turl: ios ? 'sms:&' : 'sms:?',\n\t\t\tdata: data\n\t\t};\n\t},\n\n\t// set Email share URL\n\temail: function(data) {\n\n\t\tvar url = `mailto:`;\n\n\t\t// if to address specified then add to URL\n\t\tif (data.to !== null) {\n\t\t\turl += `${data.to}`;\n\t\t}\n\n\t\turl += `?`;\n\n\t\treturn {\n\t\t\turl: url,\n\t\t\tdata: {\n\t\t\t\tsubject: data.subject,\n\t\t\t\tbody: data.body\n\t\t\t}\n\t\t};\n\t}\n};\n\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}